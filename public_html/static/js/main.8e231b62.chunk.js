(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){e.exports={App:"App_App__3_inf"}},105:function(e,t,a){e.exports=a.p+"static/media/logo.7b963b55.svg"},106:function(e,t,a){e.exports={tabs:"Character_tabs__q5M5B"}},108:function(e,t,a){e.exports=a(185)},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(31),c=a.n(l),o=a(37),s=a(5),u=a(103),i=a(16),m=a(17),p=a(20),d=a(18),E=a(19),h=a(104),v=a.n(h),f=JSON.parse(localStorage.getItem("DND_STATE")),g=a(47),y=a.n(g),b=a(34),x=a.n(b),k=a(4),N=a.n(k),O=a(43),C=a.n(O),L=a(105),w=a.n(L),S=Object(s.b)(function(e){return{modal:e.modal}},function(e){return{toggleModal:function(t){return e({type:"MODAL_TOGGLE",payload:{index:t}})}}})(function(e){return r.a.createElement(y.a,{collapseOnSelect:!0,expand:"sm",bg:"primary",variant:"dark",id:C.a.header,className:"mb-1"},r.a.createElement(x.a,{className:C.a.container},r.a.createElement(y.a.Brand,{className:C.a.navbarBrand},r.a.createElement("img",{src:w.a,width:"30",height:"30",className:"d-inline-block align-top",alt:"D and D Tools"}),"D&D Tools"),r.a.createElement(y.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(y.a.Collapse,{id:"responsive-navbar-nav",className:"justify-content-end"},r.a.createElement(N.a,{className:C.a.btnSpace,variant:"outline-info",onClick:function(){return e.toggleModal("account")}},"Create Account"),r.a.createElement(N.a,{className:C.a.btnSpace,variant:"outline-success",onClick:function(){return e.toggleModal("signin")}},"Sign In"))))}),A=a(29),I=a.n(A),j=a(42),_=a.n(j),T=a(28),M=a(6);function P(e,t){return e||(e=20),t||(t=1),Math.min(Math.floor(Math.random()*t*Math.floor(e))+1,e)}function R(e,t){return e-t}function D(e){return Math.floor((e.value-10)/2)}function q(e,t,a,n){var r,l=0,c=e.toLowerCase();return t[c+"Lock"]?(n&&(r=n.find(function(t){return t.name===e})),r&&(l=10+r.prof*t.profBonus+D(a[r.stat])+(r.adv?5:0)),l):t[c]}function W(e){var t=Math.floor((parseInt(e.level)+7)/4);return e.profBonusLock?t:e.profBonus}function G(e,t){return e.initLock?function(e,t){if(t&&t.length&&isNaN(e))for(var a=0;a<t.length;a++)if(t[a].abv===e)return D(t[a]);return!1}("Dex",t):e.init}function B(e){return!e.touched||(!e.validation||!0===e.valid||e.valid)}var H=a(27),V=a.n(H),U=a(12),K=a.n(U),Q=a(21),F=a.n(Q),z=a(1),Y=a.n(z),J=a(11),X=a.n(J),Z=a(9),$=r.a.memo(function(e){return r.a.createElement(K.a,{md:6,lg:4},r.a.createElement("div",{className:"roll-wrapper"},r.a.createElement(F.a.Group,null,r.a.createElement(Y.a,{className:"mb-3"},r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:"bg-primary text-white"},r.a.createElement(Z.a,{icon:e.die.component,className:"fa-fw",style:{height:"24px"}})),r.a.createElement(Y.a.Text,{className:"bg-primary text-white",style:{width:"50px"}},"d",e.die.value)),r.a.createElement(X.a,{type:"number",className:"dice-num",value:e.die.num,onChange:function(t){return e.updateDieNumber(t,e.die.value)}}),r.a.createElement(Y.a.Append,null,r.a.createElement(N.a,{variant:"primary",onClick:function(){return e.rollDice(e.die)}},"Roll"))))))}),ee=a(3),te=a(65),ae=a.n(te),ne=function(e){function t(e,a){var n;return Object(i.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).clearOverallTotal=function(){n.setState({overallTotal:0,recentTotal:0,recentResults:[]})},n.updateDieNumber=function(e,t){if(!(e.target.value>999)){var a=n.state.dice.findIndex(function(e){return e.value===t}),r=Object(M.a)({},n.state.dice[a]);r.num=e.target.value;var l=Object(T.a)(n.state.dice);l[a]=r,n.setState({dice:l})}},n.rollDice=function(e){for(var t=0,a=[],r=0;r<e.num;r++){var l=P(e.value);t+=l,a.push(l)}a=a.sort(R).reverse(),n.setState({overallTotal:n.state.overallTotal+t,recentTotal:t,recentResults:a})},n.displayResults=function(){var e="";if(n.state.recentResults.length){for(var t=0;t<n.state.recentResults.length;t++)e+=""+n.state.recentResults[t],t===n.state.recentResults.length-1?e+=" = ":e+=" + ";return e}},n.state={overallTotal:0,recentTotal:0,recentResults:[],dice:[{value:20,num:1,component:ee.g},{value:12,num:1,component:ee.f},{value:10,num:1,component:ee.e},{value:8,num:1,component:ee.j},{value:6,num:1,component:ee.i},{value:4,num:1,component:ee.h}]},n}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(x.a,{id:"Roll"},r.a.createElement(V.a,{className:"mb-3"},r.a.createElement(K.a,{xs:6},r.a.createElement("legend",null,"Total: ",r.a.createElement("span",{id:"overall-total"},this.state.overallTotal))),r.a.createElement(K.a,{xs:6,className:"text-right"},r.a.createElement(N.a,{variant:"danger",id:"clear-roll",onClick:this.clearOverallTotal},"Clear"))),r.a.createElement(V.a,null,r.a.createElement(K.a,{className:ae.a.results},this.displayResults()," ",r.a.createElement("strong",{className:ae.a.total},this.state.recentTotal))),r.a.createElement(V.a,null,this.state.dice.map(function(t){return r.a.createElement($,{key:t.value,die:t,rollDice:e.rollDice,updateDieNumber:e.updateDieNumber})})))}}]),t}(n.Component),re=a(38),le=a.n(re),ce=a(44),oe=a.n(ce),se=Object(s.b)(function(e){return{character:e.character,stats:e.stats.stats,skills:e.skills.skills}},function(e){return{updateCharacter:function(t,a){return e({type:"CHAR_UPDATE",payload:{value:t,index:a}})},updateLockedCharacter:function(t,a){return e({type:"CHAR_LOCK_UPDATE",payload:{value:t,index:a}})}}})(function(e){var t=parseInt(e.character.maxHP)+parseInt(e.character.tempHP),a=Math.ceil(e.character.tempHP/t*100),n=Math.ceil(e.character.HP/t*100),l=100-n-a;return r.a.createElement(V.a,{className:"my-4"},r.a.createElement(K.a,{xs:6,lg:3,className:"mb-3"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-success text-white"},"HP")),r.a.createElement(X.a,{type:"number",value:e.character.HP,onChange:function(t){return e.updateCharacter(t.target.value,"HP")}})),r.a.createElement(le.a,{className:(l?l>80?oe.a.lowHealth:"":oe.a.fullHealth)+" bg-danger"},r.a.createElement(le.a,{variant:"success",now:n,key:1}),r.a.createElement(le.a,{variant:"info",now:a,key:2}))),r.a.createElement(K.a,{xs:6,lg:3,className:"mb-3"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"AC")),r.a.createElement(X.a,{type:"number",value:e.character.AC,onChange:function(t){return e.updateCharacter(t.target.value,"AC")}}))),r.a.createElement(K.a,{xs:6,lg:3,className:"mb-3"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-info text-white"},"Temp HP")),r.a.createElement(X.a,{type:"number",value:e.character.tempHP,onChange:function(t){return e.updateCharacter(t.target.value,"tempHP")}}))),r.a.createElement(K.a,{xs:6,lg:3,className:"mb-3"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Temp AC")),r.a.createElement(X.a,{type:"number",value:e.character.tempAC,onChange:function(t){return e.updateCharacter(t.target.value,"tempAC")}}))),r.a.createElement(K.a,{xs:6,lg:3,className:"mb-3"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Max HP")),r.a.createElement(X.a,{type:"number",value:e.character.maxHP,onChange:function(t){return e.updateCharacter(t.target.value,"maxHP")}}))),r.a.createElement(K.a,{xs:6,lg:3,className:"mb-3"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Hit Die")),r.a.createElement(X.a,{type:"number",value:e.character.hitdie,onChange:function(t){return e.updateCharacter(t.target.value,"hitdie")}}),r.a.createElement(Y.a.Append,null,r.a.createElement(N.a,{variant:"primary",onClick:function(){return e.updateCharacter(e.character.level,"hitdie")}},r.a.createElement(Z.a,{icon:ee.o,className:"fa-fw"}))))),r.a.createElement(K.a,{xs:6,lg:3,className:"mb-3"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Prof")),r.a.createElement(X.a,{readOnly:e.character.profBonusLock?"readOnly":"",type:"number",value:W(e.character),onChange:function(t){return e.updateLockedCharacter(t.target.value,"profBonus")}}),r.a.createElement(Y.a.Append,null,r.a.createElement(N.a,{variant:e.character.profBonusLock?"primary":"secondary text-white",onClick:function(){return e.updateCharacter(!e.character.profBonusLock,"profBonusLock")}},r.a.createElement(Z.a,{icon:e.character.profBonusLock?ee.k:ee.l,className:"fa-fw"}))))),r.a.createElement(K.a,{xs:6,lg:3,className:"mb-3"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Init")),r.a.createElement(X.a,{readOnly:e.character.initLock?"readOnly":"",type:"number",value:G(e.character,e.stats),onChange:function(t){return e.updateLockedCharacter(t.target.value,"init")}}),r.a.createElement(Y.a.Append,null,r.a.createElement(N.a,{variant:e.character.initLock?"primary":"secondary text-white",onClick:function(){return e.updateCharacter(!e.character.initLock,"initLock")}},r.a.createElement(Z.a,{icon:e.character.initLock?ee.k:ee.l,className:"fa-fw"}))))),r.a.createElement(K.a,{xs:6,lg:3,className:"mb-3"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Insight")),r.a.createElement(X.a,{readOnly:e.character.insightLock?"readOnly":"",type:"number",value:q("Insight",e.character,e.stats,e.skills),onChange:function(t){return e.updateLockedCharacter(t.target.value,"insight")}}),r.a.createElement(Y.a.Append,null,r.a.createElement(N.a,{variant:e.character.insightLock?"primary":"secondary text-white",onClick:function(){return e.updateCharacter(!e.character.insightLock,"insightLock")}},r.a.createElement(Z.a,{icon:e.character.insightLock?ee.k:ee.l,className:"fa-fw"}))))),r.a.createElement(K.a,{xs:6,lg:3,className:"mb-3"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Percep.")),r.a.createElement(X.a,{readOnly:e.character.perceptionLock?"readOnly":"",type:"number",value:q("Perception",e.character,e.stats,e.skills),onChange:function(t){return e.updateLockedCharacter(t.target.value,"perception")}}),r.a.createElement(Y.a.Append,null,r.a.createElement(N.a,{variant:e.character.perceptionLock?"primary":"secondary text-white",onClick:function(){return e.updateCharacter(!e.character.perceptionLock,"perceptionLock")}},r.a.createElement(Z.a,{icon:e.character.perceptionLock?ee.k:ee.l,className:"fa-fw"}))))),r.a.createElement(K.a,{xs:6,lg:3,className:"mb-3"},r.a.createElement(Y.a,{style:{height:"100%"}},e.character.fails.map(function(t,a){var n=Object(T.a)(e.character.fails);return n[a]=!n[a],r.a.createElement(N.a,{key:a,variant:t?"danger":"secondary",className:oe.a.saveThrows,onClick:function(){return e.updateCharacter(n,"fails")}},a+1)}),r.a.createElement(Y.a.Text,{className:oe.a.saveThrows+" bg-primary"},"\xa0"),e.character.saves.map(function(t,a){var n=Object(T.a)(e.character.saves);return n[a]=!n[a],r.a.createElement(N.a,{key:a,variant:t?"success":"secondary",className:oe.a.saveThrows,onClick:function(){return e.updateCharacter(n,"saves")}},a+1)}))),r.a.createElement(K.a,{xs:6,lg:3,className:"mb-3",id:"xp"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:"bg-primary text-white"},"XP")),r.a.createElement(X.a,{type:"number",value:e.character.XP,onChange:function(t){return e.updateCharacter(t.target.value,"XP")}}))))}),ue=a(22),ie=a.n(ue),me=Object(s.b)(function(e){return{character:e.character}},function(e){return{updateCharacter:function(t,a){return e({type:"CHAR_UPDATE",payload:{value:t,index:a}})}}})(function(e){return r.a.createElement("div",{className:"mb-4",id:"character-info"},r.a.createElement(ie.a,{className:"w-100"},r.a.createElement(ie.a.Body,null,r.a.createElement("legend",null,"Info"),r.a.createElement(V.a,{className:"mb-3"},r.a.createElement(K.a,{md:9,className:"mb-1"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Character Name")),r.a.createElement(X.a,{type:"text",value:e.character.name,onChange:function(t){return e.updateCharacter(t.target.value,"name")}}))),r.a.createElement(K.a,{md:3,className:"mb-1"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Level")),r.a.createElement(X.a,{type:"number",value:e.character.level,onChange:function(t){return e.updateCharacter(t.target.value,"level")}})))),r.a.createElement(V.a,{className:"mb-3"},r.a.createElement(K.a,{sm:6,lg:3,className:"mb-1"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Race")),r.a.createElement(X.a,{type:"text",value:e.character.race,onChange:function(t){return e.updateCharacter(t.target.value,"race")}}))),r.a.createElement(K.a,{sm:6,lg:3,className:"mb-1"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Class")),r.a.createElement(X.a,{type:"text",value:e.character.class,onChange:function(t){return e.updateCharacter(t.target.value,"class")}}))),r.a.createElement(K.a,{sm:6,lg:3,className:"mb-1"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Sex")),r.a.createElement(X.a,{type:"text",value:e.character.sex,onChange:function(t){return e.updateCharacter(t.target.value,"sex")}}))),r.a.createElement(K.a,{sm:6,lg:3,className:"mb-1"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Age")),r.a.createElement(X.a,{type:"text",value:e.character.age,onChange:function(t){return e.updateCharacter(t.target.value,"age")}})))),r.a.createElement(V.a,{className:"mb-3"},r.a.createElement(K.a,{sm:6,lg:3,className:"mb-1"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Diety")),r.a.createElement(X.a,{type:"text",value:e.character.diety,onChange:function(t){return e.updateCharacter(t.target.value,"diety")}}))),r.a.createElement(K.a,{sm:6,lg:3,className:"mb-1"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Background")),r.a.createElement(X.a,{type:"text",value:e.character.background,onChange:function(t){return e.updateCharacter(t.target.value,"background")}}))),r.a.createElement(K.a,{sm:6,lg:3,className:"mb-1"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Alignment")),r.a.createElement(X.a,{type:"text",value:e.character.alignment,onChange:function(t){return e.updateCharacter(t.target.value,"alignment")}}))),r.a.createElement(K.a,{sm:6,lg:3,className:"mb-1"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Size")),r.a.createElement(X.a,{type:"text",value:e.character.size,onChange:function(t){return e.updateCharacter(t.target.value,"size")}})))),r.a.createElement(V.a,{className:"mb-3"},r.a.createElement(K.a,{sm:6,lg:3,className:"mb-1"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Height")),r.a.createElement(X.a,{type:"text",value:e.character.height,onChange:function(t){return e.updateCharacter(t.target.value,"height")}}))),r.a.createElement(K.a,{sm:6,lg:3,className:"mb-1"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Weight")),r.a.createElement(X.a,{type:"text",value:e.character.weight,onChange:function(t){return e.updateCharacter(t.target.value,"weight")}}))),r.a.createElement(K.a,{sm:6,lg:3,className:"mb-1"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Hair")),r.a.createElement(X.a,{type:"text",value:e.character.hair,onChange:function(t){return e.updateCharacter(t.target.value,"hair")}}))),r.a.createElement(K.a,{sm:6,lg:3,className:"mb-1"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Eyes")),r.a.createElement(X.a,{type:"text",value:e.character.eyes,onChange:function(t){return e.updateCharacter(t.target.value,"eyes")}})))))))}),pe=a(26),de=a.n(pe),Ee=a(35),he=a.n(Ee),ve=r.a.memo(function(e){var t=e.rollResult.roll;return e.rollResult.adv&&e.rollResult.advRoll>e.rollResult.roll&&(t=e.rollResult.advRoll),r.a.createElement("div",{className:"d-flex justify-content-center align-items-center "},e.rollResult.adv?r.a.createElement("div",{className:he.a.total},r.a.createElement("small",null,"Adv")," ",r.a.createElement("br",null),e.rollResult.advRoll," ",r.a.createElement("span",null,"/")):"",r.a.createElement("div",{className:he.a.total},r.a.createElement("small",null,"Roll")," ",r.a.createElement("br",null),e.rollResult.roll," ",r.a.createElement("span",null,"+")),r.a.createElement("div",{className:he.a.total},r.a.createElement("small",null,"Bonus"),r.a.createElement("br",null),e.rollResult.bonus," ",r.a.createElement("span",null,"+")),r.a.createElement("div",{className:he.a.total},r.a.createElement("small",null,"Prof"),r.a.createElement("br",null),e.rollResult.prof*e.profBonus," ",r.a.createElement("span",null,"=")),r.a.createElement("div",{className:he.a.total},r.a.createElement("small",null,"Total"),r.a.createElement("br",null),r.a.createElement("strong",null,t+e.rollResult.bonus+e.rollResult.prof*e.profBonus)))}),fe=Object(s.b)(function(e){return{stats:e.stats.stats,rollResult:e.stats.recentStatRoll,profBonus:W(e.character)}},function(e){return{updateStat:function(t,a){return e({type:"STAT_UPDATE",payload:{value:t,index:a}})},toggleProficiency:function(t){return e({type:"STAT_TOGGLE",payload:{index:t}})},rollStat:function(t){return e({type:"STAT_ROLL",payload:{stat:t}})}}})(function(e){return r.a.createElement("div",{className:" mb-4 tab-pane",id:"character-stats"},r.a.createElement(ie.a,{className:"w-100"},r.a.createElement(ie.a.Body,null,r.a.createElement("legend",null,"Stats"),r.a.createElement(ve,{rollResult:e.rollResult,profBonus:e.profBonus}),r.a.createElement(de.a,{striped:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-dark"},r.a.createElement("th",null,"Name"),r.a.createElement("th",{className:"text-center"},"Value"),r.a.createElement("th",{className:"text-center"},"Bonus"),r.a.createElement("th",{className:"text-center"},"Prof."),r.a.createElement("th",{className:"text-center"},"Roll"))),r.a.createElement("tbody",null,e.stats.map(function(t,a){var n=D(t);return r.a.createElement("tr",{className:"table-active",key:a},r.a.createElement("th",{scope:"row"},r.a.createElement("span",{className:"d-none d-sm-block"},t.name),r.a.createElement("span",{className:"d-block d-sm-none"},t.abv)),r.a.createElement("td",{className:"text-center",style:{width:"100px"}},r.a.createElement(X.a,{type:"number",value:t.value,onChange:function(t){return e.updateStat(t.target.value,a)}})),r.a.createElement("td",{className:"text-center"},n>0?"+":"",n),r.a.createElement("td",{className:"text-center touch-icon",onClick:function(t){return e.toggleProficiency(a)}},t.prof?r.a.createElement(Z.a,{icon:ee.c,size:"2x"}):""),r.a.createElement("td",{className:"text-center touch-icon",onClick:function(a){return e.rollStat(t)}},r.a.createElement(Z.a,{icon:ee.g,size:"2x"})))}))))))}),ge=Object(s.b)(function(e){return{stats:e.stats.stats,skills:e.skills.skills,rollResult:e.skills.recentSkillRoll,profBonus:W(e.character)}},function(e){return{incrementProf:function(t){return e({type:"SKILL_PROF",payload:{index:t}})},toggleAdv:function(t){return e({type:"SKILL_ADV",payload:{index:t}})},rollSkill:function(t,a){return e({type:"SKILL_ROLL",payload:{bonus:t,skill:a}})}}})(function(e){return r.a.createElement("div",{className:"mb-4 tab-pane",id:"character-skills"},r.a.createElement(ie.a,{className:"w-100"},r.a.createElement(ie.a.Body,null,r.a.createElement("legend",null,"Skills"),r.a.createElement(ve,{rollResult:e.rollResult,profBonus:e.profBonus}),r.a.createElement(de.a,{striped:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-dark"},r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Stat"),r.a.createElement("th",{scope:"col",className:"text-center"},"Bonus"),r.a.createElement("th",{scope:"col",className:"text-center"},"Prof."),r.a.createElement("th",{scope:"col",className:"text-center"},"Adv."),r.a.createElement("th",{scope:"col",className:"text-center"},"Roll"))),r.a.createElement("tbody",null,e.skills.map(function(t,a){var n=e.stats[t.stat],l=D(n);return r.a.createElement("tr",{className:"table-active",key:a},r.a.createElement("th",{scope:"row"},t.name),r.a.createElement("td",null,n.abv),r.a.createElement("td",{className:"text-center"},l>0?"+":"",l),r.a.createElement("td",{className:"text-center touch-icon",onClick:function(t){return e.incrementProf(a)}},1===t.prof?r.a.createElement(Z.a,{icon:ee.c,size:"2x"}):"",2===t.prof?r.a.createElement(Z.a,{icon:ee.d,size:"2x"}):""),r.a.createElement("td",{className:"text-center touch-icon",onClick:function(t){return e.toggleAdv(a)}},t.adv?r.a.createElement(Z.a,{icon:ee.c,size:"2x"}):""),r.a.createElement("td",{className:"text-center touch-icon",onClick:function(a){return e.rollSkill(l,t)}},r.a.createElement(Z.a,{icon:ee.g,size:"2x"})))}))))))}),ye=r.a.memo(function(e){return r.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},r.a.createElement("div",{className:he.a.total},function(e){var t="",a=e;if(a.damageRolls)for(var n=0;n<a.damageRolls.length;n++)t+=""+a.damageRolls[n],n===a.damageRolls.length-1?(e.bonusDamage>0&&(t+=" + "+e.bonusDamage),t+=" = "):t+=" + ";return t}(e.rollResult)," ",r.a.createElement("strong",null,e.rollResult.totalDamage)," Damage"))});var be=Object(s.b)(function(e){return{equipment:e.equipment,stats:e.stats.stats,skills:e.skills.skills,rollResult:e.equipment.recentWeaponRoll,profBonus:W(e.character)}},function(e){return{toggleWeaponModal:function(t){return e({type:"MODAL_WEAPON",payload:{index:t}})},rollWeapon:function(t){return e({type:"WEAPON_ROLL",payload:{weapon:t}})}}})(function(e){var t=[];return t[4]=ee.h,t[6]=ee.i,t[8]=ee.j,t[10]=ee.e,t[12]=ee.f,t[20]=ee.g,r.a.createElement("div",null,r.a.createElement(ve,{rollResult:e.rollResult,profBonus:e.profBonus}),r.a.createElement(ye,{rollResult:e.rollResult,profBonus:e.profBonus}),r.a.createElement(de.a,{striped:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-dark touch-row",onClick:function(){return e.toggleWeaponModal(-1)}},r.a.createElement("th",null,"Weapon ",r.a.createElement(Z.a,{icon:ee.m,className:"float-right",style:{height:"24px"}})),r.a.createElement("th",{className:"text-center"},"+ Hit"),r.a.createElement("th",{className:"text-center"},"Die"),r.a.createElement("th",{className:"text-center"},"+ Dam"),r.a.createElement("th",{className:"text-center"},"Roll"))),r.a.createElement("tbody",null,e.equipment.weapons.map(function(a,n){return r.a.createElement("tr",{key:n},r.a.createElement("th",{scope:"row",className:"touch-row",onClick:function(){return e.toggleWeaponModal(n)}},a.name),r.a.createElement("td",{className:"text-center"},a.hit>0?"+":"",a.hit),r.a.createElement("td",{className:"text-center"},a.numDice,"d",a.diceValue),r.a.createElement("td",{className:"text-center"},a.bonus),r.a.createElement("td",{className:"text-center touch-icon",onClick:function(t){return e.rollWeapon(a)}},r.a.createElement(Z.a,{icon:t[a.diceValue],size:"2x"})))}))))}),xe=Object(s.b)(function(e){return{equipment:e.equipment}},function(e){return{toggleArmorModal:function(t){return e({type:"MODAL_ARMOR",payload:{index:t}})}}})(function(e){return r.a.createElement(de.a,{striped:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-dark touch-row",onClick:function(){return e.toggleArmorModal(-1)}},r.a.createElement("th",null,"Armor ",r.a.createElement(Z.a,{icon:ee.m,className:"float-right",style:{height:"24px"}})),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Prof."),r.a.createElement("th",null,"AC"))),r.a.createElement("tbody",null,e.equipment.armor.map(function(t,a){return r.a.createElement("tr",{key:a,onClick:function(){return e.toggleArmorModal(a)}},r.a.createElement("th",{className:"touch-row"},t.name),r.a.createElement("td",null,t.type),r.a.createElement("td",null,t.prof),r.a.createElement("td",null,t.ac))})))}),ke=Object(s.b)(function(e){return{equipment:e.equipment}},function(e){return{updateMoney:function(t,a){return e({type:"EQUIP_MONEY",payload:{value:t,index:a}})}}})(function(e){var t=function(e,t){t||(t="gp");var a=0,n=0,r=0,l=e.find(function(e){return e.initial===t});return e.forEach(function(e){a+=e.value*e.multiple}),r=a/l.multiple,"cp"!==t&&(n=r-Math.floor(r),n=Math.round(100*n)),""+(r=Math.floor(r))+t+" "+n+"cp"}(e.equipment.money);return r.a.createElement(de.a,{striped:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-dark"},r.a.createElement("th",null,"Money"),r.a.createElement("th",{style:{width:"150px"}},r.a.createElement("span",{className:"float-right"},"Total: ",t)))),r.a.createElement("tbody",null,e.equipment.money.map(function(t,a){return r.a.createElement("tr",{className:"",key:a},r.a.createElement("th",null,t.name," (",t.initial,")"),r.a.createElement("td",null,r.a.createElement(X.a,{type:"number",value:t.value,onChange:function(t){return e.updateMoney(t.target.value,a)}})))})))}),Ne=Object(s.b)(function(e){return{equipment:e.equipment}},function(e){return{toggleGemModal:function(t){return e({type:"MODAL_GEMS",payload:{index:t}})}}})(function(e){var t=function(e,t){var a=0,n=0,r=0;return e.forEach(function(e){a+=100*e.value*e.number}),n=(r=a/100)-Math.floor(r),n=Math.round(100*n),(r=Math.floor(r))+"gp "+n+"cp"}(e.equipment.gems,e.equipment.money);return r.a.createElement(de.a,{striped:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-dark touch-row",onClick:function(){return e.toggleGemModal(-1)}},r.a.createElement("th",null,"Gems ",r.a.createElement(Z.a,{icon:ee.m,className:"float-right",style:{height:"24px"}})),r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Value ",r.a.createElement("span",{className:"float-right"},"Total: ",t)))),r.a.createElement("tbody",null,e.equipment.gems.map(function(t,a){return r.a.createElement("tr",{key:a,className:"touch-row",onClick:function(){return e.toggleGemModal(a)}},r.a.createElement("th",null,t.name),r.a.createElement("td",null,t.number),r.a.createElement("td",null,t.value,t.money))})))}),Oe=a(7),Ce=a.n(Oe),Le=a(23),we=a.n(Le),Se=r.a.memo(function(e){return r.a.createElement(F.a.Group,null,r.a.createElement(F.a.Label,null,e.formElement.state.label),r.a.createElement(Y.a,{className:"mb-3"},r.a.createElement(F.a.Control,{className:B(e.formElement.state)?"":"invalid",type:e.formElement.state.type,placeholder:e.formElement.state.placeholder,value:e.value,onChange:function(t){return e.onChange(e.formElement.state.key,t.target.value)}}),e.formElement.state.append?r.a.createElement(Y.a.Append,null,r.a.createElement(Y.a.Text,{className:"bg-secondary text-white"},e.formElement.state.append)):null),B(e.formElement.state)?"":r.a.createElement("p",{className:"invalid-text"},e.formElement.state.message))}),Ae=r.a.memo(function(e){return r.a.createElement(F.a.Group,null,r.a.createElement(F.a.Label,null,e.formElement.state.label),r.a.createElement(F.a.Control,{as:"select",className:B(e.formElement.state)?"":"invalid",type:e.formElement.state.type,value:e.value,onChange:function(t){return e.onChange(e.formElement.state.key,t.target.value)}},e.options.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.name)})),B(e.formElement.state)?"":r.a.createElement("p",{className:"invalid-text"},e.formElement.state.message))}),Ie=function(e){function t(e,a){var n;return Object(i.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).updateWeapon=function(e){e.preventDefault(),n.props.saveWeapon(),n.props.handleClose("weapon")},n.state={form:{name:{type:"text",label:"Name",placeholder:"",key:"name",validation:{required:!0,maxLength:100},valid:!1,touched:!1,message:""},stat:{type:"select",label:"Stat",key:"stat",validation:{required:!0,minLength:1,maxLength:1},valid:!1,touched:!1,message:"",options:e.stats},hit:{type:"number",label:"Bonus to Hit",key:"hit",validation:{required:!0,minLength:1,maxLength:2},valid:!1,touched:!1,message:""},numDice:{type:"number",label:"# Dice",key:"numDice",validation:{required:!0,minLength:0,maxLength:2},valid:!1,touched:!1,message:""},diceValue:{type:"select",label:"Dice Value",key:"diceValue",validation:{required:!0,minLength:0,maxLength:2},valid:!1,touched:!1,message:"",options:[{name:"d4",value:4},{name:"d6",value:6},{name:"d8",value:8},{name:"d10",value:10},{name:"d12",value:12},{name:"d20",value:20}]},bonusDamage:{type:"number",label:"Bonus Damange",key:"bonus",validation:{required:!0,minLength:0,maxLength:2},valid:!1,touched:!1,message:""}},formIsValid:!1,loading:!1,error:"",success:""},n}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var a in this.state.form)t.push({id:a,state:this.state.form[a]});var n=t.map(function(t){var a;return"select"===t.state.type?(a="stat"===t.state.key?t.state.options.map(function(e,t){return{name:e.name,value:t}}):t.state.options,r.a.createElement(Ae,{key:t.id,formElement:t,onChange:e.props.updateWeapon,options:a,value:e.props.equipment.currentWeapon?e.props.equipment.currentWeapon[t.state.key]:""})):r.a.createElement(Se,{key:t.id,formElement:t,onChange:e.props.updateWeapon,value:e.props.equipment.currentWeapon?e.props.equipment.currentWeapon[t.state.key]:""})});return r.a.createElement(Ce.a,{show:this.props.show,onHide:function(){return e.props.handleClose("weapon")}},r.a.createElement(Ce.a.Header,{closeButton:!0},r.a.createElement(Ce.a.Title,null,-1===this.props.equipment.currentWeaponIndex?"New":"Edit"," Weapon")),r.a.createElement(F.a,{onSubmit:function(t){return e.updateWeapon(t)}},r.a.createElement(Ce.a.Body,null,""!==this.state.error?r.a.createElement(we.a,{variant:"danger"},this.state.error):"",""!==this.state.success?r.a.createElement(we.a,{variant:"success"},this.state.success):"",n),r.a.createElement(Ce.a.Footer,null,this.state.loading?r.a.createElement(Z.a,{icon:ee.n,spin:!0}):"",-1===this.props.equipment.currentWeaponIndex?null:r.a.createElement(N.a,{variant:"danger",onClick:function(){return e.props.deleteWeapon()}},"Delete"),r.a.createElement(N.a,{variant:"secondary",onClick:function(){return e.props.handleClose("weapon")}},"Close"),r.a.createElement(N.a,{variant:"success",type:"submit"},"Save"))))}}]),t}(n.Component),je=Object(s.b)(function(e){return{equipment:e.equipment,stats:e.stats.stats}},function(e){return{updateWeapon:function(t,a){return e({type:"EQUIP_WEAPON",payload:{key:t,value:a}})},saveWeapon:function(t,a){return e({type:"EQUIP_SAVE_WEAPON",payload:{key:t,value:a}})},deleteWeapon:function(t,a){return e({type:"EQUIP_DELETE_WEAPON",payload:{key:t,value:a}})}}})(Ie),_e=function(e){function t(e,a){var n;return Object(i.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).updateArmor=function(e){e.preventDefault(),n.props.saveArmor(),n.props.handleClose("armor")},n.state={form:{name:{type:"text",label:"Name",placeholder:"",key:"name",validation:{required:!0,maxLength:100},valid:!1,touched:!1,message:""},type:{type:"text",label:"Type",key:"type",validation:{required:!0,maxLength:100},valid:!1,touched:!1,message:""},prof:{type:"faCheck",label:"Prof.",key:"prof",validation:{required:!0,minLength:0,maxLength:2},valid:!1,touched:!1,message:""},ac:{type:"number",label:"AC",key:"ac",validation:{required:!1,minLength:0,maxLength:2},valid:!1,touched:!1,message:""}},formIsValid:!1,loading:!1,error:"",success:""},n}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var a in this.state.form)t.push({id:a,state:this.state.form[a]});var n=t.map(function(t){if("select"===t.state.type){var a=t.state.options.map(function(e,t){return{name:e.name,value:t}});return r.a.createElement(Ae,{key:t.id,formElement:t,onChange:e.props.updateArmor,options:a,value:e.props.equipment.currentArmor?e.props.equipment.currentArmor[t.state.key]:""})}return r.a.createElement(Se,{key:t.id,formElement:t,onChange:e.props.updateArmor,value:e.props.equipment.currentArmor?e.props.equipment.currentArmor[t.state.key]:""})});return r.a.createElement(Ce.a,{show:this.props.show,onHide:function(){return e.props.handleClose("armor")}},r.a.createElement(Ce.a.Header,{closeButton:!0},r.a.createElement(Ce.a.Title,null,-1===this.props.equipment.currentArmorIndex?"New":"Edit"," Armor")),r.a.createElement(F.a,{onSubmit:function(t){return e.updateArmor(t)}},r.a.createElement(Ce.a.Body,null,""!==this.state.error?r.a.createElement(we.a,{variant:"danger"},this.state.error):"",""!==this.state.success?r.a.createElement(we.a,{variant:"success"},this.state.success):"",n),r.a.createElement(Ce.a.Footer,null,this.state.loading?r.a.createElement(Z.a,{icon:ee.n,spin:!0}):"",-1===this.props.equipment.currentArmorIndex?null:r.a.createElement(N.a,{variant:"danger",onClick:function(){return e.props.deleteArmor()}},"Delete"),r.a.createElement(N.a,{variant:"secondary",onClick:function(){return e.props.handleClose("armor")}},"Close"),r.a.createElement(N.a,{variant:"success",type:"submit"},"Save"))))}}]),t}(n.Component),Te=Object(s.b)(function(e){return{equipment:e.equipment,stats:e.stats.stats}},function(e){return{updateArmor:function(t,a){return e({type:"EQUIP_ARMOR",payload:{key:t,value:a}})},saveArmor:function(t,a){return e({type:"EQUIP_SAVE_ARMOR",payload:{key:t,value:a}})},deleteArmor:function(t,a){return e({type:"EQUIP_DELETE_ARMOR",payload:{key:t,value:a}})}}})(_e),Me=function(e){function t(e,a){var n;return Object(i.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).updateGems=function(e){e.preventDefault(),n.props.saveGems(),n.props.handleClose("gems")},n.state={form:{name:{type:"text",label:"Name",placeholder:"",key:"name",validation:{required:!0,maxLength:100},valid:!1,touched:!1,message:""},number:{type:"number",label:"Number",key:"number",validation:{required:!0,maxLength:10},valid:!1,touched:!1,message:""},value:{type:"number",label:"Value",key:"value",validation:{required:!0,minLength:0,maxLength:10},valid:!1,touched:!1,message:"",append:"gp"}},formIsValid:!1,loading:!1,error:"",success:""},n}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var a in this.state.form)t.push({id:a,state:this.state.form[a]});var n=t.map(function(t){if("select"===t.state.type){var a=t.state.options.map(function(e,t){return{name:e.name,value:t}});return r.a.createElement(Ae,{key:t.id,formElement:t,onChange:e.props.updateGems,options:a,value:e.props.equipment.currentGem?e.props.equipment.currentGem[t.state.key]:""})}return r.a.createElement(Se,{key:t.id,formElement:t,onChange:e.props.updateGems,value:e.props.equipment.currentGem?e.props.equipment.currentGem[t.state.key]:""})});return r.a.createElement(Ce.a,{show:this.props.show,onHide:function(){return e.props.handleClose("gems")}},r.a.createElement(Ce.a.Header,{closeButton:!0},r.a.createElement(Ce.a.Title,null,-1===this.props.equipment.currentGemIndex?"New":"Edit"," Gems")),r.a.createElement(F.a,{onSubmit:function(t){return e.updateGems(t)}},r.a.createElement(Ce.a.Body,null,""!==this.state.error?r.a.createElement(we.a,{variant:"danger"},this.state.error):"",""!==this.state.success?r.a.createElement(we.a,{variant:"success"},this.state.success):"",n),r.a.createElement(Ce.a.Footer,null,this.state.loading?r.a.createElement(Z.a,{icon:ee.n,spin:!0}):"",-1===this.props.equipment.currentGemIndex?null:r.a.createElement(N.a,{variant:"danger",onClick:function(){return e.props.deleteGems()}},"Delete"),r.a.createElement(N.a,{variant:"secondary",onClick:function(){return e.props.handleClose("gems")}},"Close"),r.a.createElement(N.a,{variant:"success",type:"submit"},"Save"))))}}]),t}(n.Component),Pe=Object(s.b)(function(e){return{equipment:e.equipment,stats:e.stats.stats}},function(e){return{updateGems:function(t,a){return e({type:"EQUIP_GEMS",payload:{key:t,value:a}})},saveGems:function(t,a){return e({type:"EQUIP_SAVE_GEMS",payload:{key:t,value:a}})},deleteGems:function(t,a){return e({type:"EQUIP_DELETE_GEMS",payload:{key:t,value:a}})}}})(Me),Re=Object(s.b)(function(e){return{equipment:e.equipment}},function(e){return{toggleWeaponModal:function(t){return e({type:"MODAL_WEAPON",payload:{index:t}})},toggleArmorModal:function(t){return e({type:"MODAL_ARMOR",payload:{index:t}})},toggleGemModal:function(t){return e({type:"MODAL_GEMS",payload:{index:t}})}}})(function(e){return r.a.createElement("div",{className:"mb-5 tab-pane",id:"character-equipment"},r.a.createElement(ie.a,{className:"w-100"},r.a.createElement(ie.a.Body,null,r.a.createElement("legend",null,"Equipment (Wearing)"),r.a.createElement(be,null),r.a.createElement(xe,null),r.a.createElement(ke,null),r.a.createElement(Ne,null))),r.a.createElement(je,{handleClose:e.toggleWeaponModal,show:e.equipment.weaponModal}),r.a.createElement(Te,{handleClose:e.toggleArmorModal,show:e.equipment.armorModal}),r.a.createElement(Pe,{handleClose:e.toggleGemModal,show:e.equipment.gemModal}))}),De=function(e){function t(e,a){var n;return Object(i.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).updateItem=function(e){e.preventDefault(),n.props.saveItem(),n.props.handleClose("item")},n.state={form:{name:{type:"text",label:"Name",placeholder:"",key:"name",validation:{required:!0,maxLength:100},valid:!1,touched:!1,message:""},hit:{type:"number",label:"Count",key:"count",validation:{required:!0,minLength:1,maxLength:9},valid:!1,touched:!1,message:""},numDice:{type:"number",label:"Cost",key:"cost",validation:{required:!0,minLength:0,maxLength:9},valid:!1,touched:!1,message:"",append:"gp"},bonusDamage:{type:"number",label:"Weight",key:"weight",validation:{required:!0,minLength:0,maxLength:9},valid:!1,touched:!1,message:"",append:"lbs"}},formIsValid:!1,loading:!1,error:"",success:""},n}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var a in this.state.form)t.push({id:a,state:this.state.form[a]});var n=t.map(function(t){return"select"===t.state.type?r.a.createElement(Ae,{key:t.id,formElement:t,onChange:e.props.updateItem,options:t.state.options,value:e.props.inventory.currentItem?e.props.inventory.currentItem[t.state.key]:""}):r.a.createElement(Se,{key:t.id,formElement:t,onChange:e.props.updateItem,value:e.props.inventory.currentItem?e.props.inventory.currentItem[t.state.key]:""})});return r.a.createElement(Ce.a,{show:this.props.show,onHide:function(){return e.props.handleClose("item")}},r.a.createElement(Ce.a.Header,{closeButton:!0},r.a.createElement(Ce.a.Title,null,-1===this.props.inventory.currentItemIndex?"New":"Edit"," Item")),r.a.createElement(F.a,{onSubmit:function(t){return e.updateItem(t)}},r.a.createElement(Ce.a.Body,null,""!==this.state.error?r.a.createElement(we.a,{variant:"danger"},this.state.error):"",""!==this.state.success?r.a.createElement(we.a,{variant:"success"},this.state.success):"",n),r.a.createElement(Ce.a.Footer,null,this.state.loading?r.a.createElement(Z.a,{icon:ee.n,spin:!0}):"",-1===this.props.inventory.currentItemIndex?null:r.a.createElement(N.a,{variant:"danger",onClick:function(){return e.props.deleteItem()}},"Delete"),r.a.createElement(N.a,{variant:"secondary",onClick:function(){return e.props.handleClose("item")}},"Close"),r.a.createElement(N.a,{variant:"success",type:"submit"},"Save"))))}}]),t}(n.Component),qe=Object(s.b)(function(e){return{inventory:e.inventory}},function(e){return{updateItem:function(t,a){return e({type:"INVENTORY_ITEMS",payload:{key:t,value:a}})},saveItem:function(t,a){return e({type:"INVENTORY_SAVE_ITEMS",payload:{key:t,value:a}})},deleteItem:function(t,a){return e({type:"INVENTORY_DELETE_ITEMS",payload:{key:t,value:a}})}}})(De),We=Object(s.b)(function(e){return{inventory:e.inventory,stats:e.stats.stats}},function(e){return{toggleItemModal:function(t){return e({type:"MODAL_ITEMS",payload:{index:t}})}}})(function(e){var t=function(e){var t=0;return e.forEach(function(e){t+=e.count*e.weight}),t}(e.inventory.items),a=[5*e.stats[0].value,10*e.stats[0].value,15*e.stats[0].value];return r.a.createElement("div",{className:"mb-4 tab-pane",id:"character-inventory"},r.a.createElement(ie.a,{className:"w-100"},r.a.createElement(ie.a.Body,null,r.a.createElement("legend",null,"Inventory"),r.a.createElement(de.a,{striped:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-dark"},r.a.createElement("th",{scope:"col",colSpan:"4"},"Encumberance"),r.a.createElement("th",{scope:"col",colSpan:"2"},"(",t,")"))),r.a.createElement("tbody",null,r.a.createElement("tr",{className:""},r.a.createElement("td",{className:t<=a[0]?"table-success":""},"Light"),r.a.createElement("td",{className:t<=a[0]?"table-success":""},a[0]),r.a.createElement("td",{className:t<a[1]&&t>a[1]?"table-warning":""},"Heavy"),r.a.createElement("td",{className:t<a[1]&&t>a[1]?"table-warning":""},a[1]),r.a.createElement("td",{className:t>a[2]?"table-danger":""},"Max"),r.a.createElement("td",{className:t>a[2]?"table-danger":""},a[2])))),r.a.createElement(de.a,{striped:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-dark touch-row",onClick:function(){return e.toggleItemModal(-1)}},r.a.createElement("th",{scope:"col"},"Name ",r.a.createElement(Z.a,{icon:ee.m,className:"float-right",style:{height:"24px"}})),r.a.createElement("th",{className:"text-center",scope:"col"},"#"),r.a.createElement("th",{className:"text-center",scope:"col"},"Cost"),r.a.createElement("th",{className:"text-center",scope:"col"},"Weight"),r.a.createElement("th",{className:"text-center",scope:"col"},"Total"))),r.a.createElement("tbody",null,e.inventory.items.map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("th",{scope:"row",className:"touch-row",onClick:function(){return e.toggleItemModal(a)}},t.name),r.a.createElement("th",{className:"text-center"},t.count),r.a.createElement("td",{className:"text-center"},t.cost),r.a.createElement("td",{className:"text-center"},t.weight," lbs"),r.a.createElement("td",{className:"text-center"},t.count*t.weight," lbs"))}))))),r.a.createElement(qe,{handleClose:e.toggleItemModal,show:e.inventory.itemModal}))});var Ge=a(106),Be=a.n(Ge),He=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(x.a,{id:"Character"},r.a.createElement(se,null),r.a.createElement(_.a,{justify:!0,defaultActiveKey:"inventory",className:Be.a.tabs},r.a.createElement(I.a,{eventKey:"info",title:"Info",className:"mt-2"},r.a.createElement(me,null)),r.a.createElement(I.a,{eventKey:"stats",title:"Stats",className:"mt-2"},r.a.createElement(fe,null)),r.a.createElement(I.a,{eventKey:"skills",title:"Skills",className:"mt-2"},r.a.createElement(ge,null)),r.a.createElement(I.a,{eventKey:"equipment",title:"Equipment",className:"mt-2"},r.a.createElement(Re,null)),r.a.createElement(I.a,{eventKey:"inventory",title:"Inventory",className:"mt-2"},r.a.createElement(We,null))))}}]),t}(n.Component),Ve=function(e){function t(e,a){var n;return Object(i.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).updateSpell=function(e){e.preventDefault(),n.props.saveSpell(),n.props.handleClose()},n.state={form:{name:{type:"text",label:"Name",key:"name",validation:{required:!0,maxLength:100},valid:!1,touched:!1,message:""},level:{type:"select",label:"Level",key:"level",validation:{required:!0,minLength:0,maxLength:1},valid:!1,touched:!1,message:"",options:[{name:"Cantrip",value:0},{name:"1",value:1},{name:"2",value:2},{name:"3",value:3},{name:"4",value:4},{name:"5",value:5},{name:"6",value:6},{name:"7",value:7},{name:"8",value:8},{name:"9",value:9}]},numDice:{type:"number",label:"# Dice",key:"numDice",validation:{required:!0,minLength:0,maxLength:2},valid:!1,touched:!1,message:""},diceValue:{type:"select",label:"Dice Value",key:"diceValue",validation:{required:!0,minLength:0,maxLength:2},valid:!1,touched:!1,message:"",options:[{name:"d4",value:4},{name:"d6",value:6},{name:"d8",value:8},{name:"d10",value:10},{name:"d12",value:12},{name:"d20",value:20}]},bonusDamage:{type:"number",label:"Bonus Damange",key:"bonus",validation:{required:!0,minLength:0,maxLength:2},valid:!1,touched:!1,message:""}},formIsValid:!1,loading:!1,error:"",success:""},n}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var a in this.state.form)t.push({id:a,state:this.state.form[a]});var n=t.map(function(t){return"select"===t.state.type?r.a.createElement(Ae,{key:t.id,formElement:t,onChange:e.props.updateSpell,options:t.state.options,value:e.props.spells.currentSpell?e.props.spells.currentSpell[t.state.key]:""}):r.a.createElement(Se,{key:t.id,formElement:t,onChange:e.props.updateSpell,value:e.props.spells.currentSpell?e.props.spells.currentSpell[t.state.key]:""})});return r.a.createElement(Ce.a,{show:this.props.show,onHide:function(){return e.props.handleClose()}},r.a.createElement(Ce.a.Header,{closeButton:!0},r.a.createElement(Ce.a.Title,null,-1===this.props.spells.currentSpellIndex?"New":"Edit"," Spell")),r.a.createElement(F.a,{onSubmit:function(t){return e.updateSpell(t)}},r.a.createElement(Ce.a.Body,null,""!==this.state.error?r.a.createElement(we.a,{variant:"danger"},this.state.error):"",""!==this.state.success?r.a.createElement(we.a,{variant:"success"},this.state.success):"",n),r.a.createElement(Ce.a.Footer,null,this.state.loading?r.a.createElement(Z.a,{icon:ee.n,spin:!0}):"",-1===this.props.spells.currentSpellIndex?null:r.a.createElement(N.a,{variant:"danger",onClick:function(){return e.props.deleteSpell()}},"Delete"),r.a.createElement(N.a,{variant:"secondary",onClick:function(){return e.props.handleClose()}},"Close"),r.a.createElement(N.a,{variant:"success",type:"submit"},"Save"))))}}]),t}(n.Component),Ue=Object(s.b)(function(e){return{spells:e.spells}},function(e){return{updateSpell:function(t,a){return e({type:"SPELLS_SPELL",payload:{key:t,value:a}})},saveSpell:function(t,a){return e({type:"SPELLS_SAVE_SPELL",payload:{key:t,value:a}})},deleteSpell:function(t,a){return e({type:"SPELLS_DELETE_SPELL",payload:{key:t,value:a}})}}})(Ve),Ke=Object(s.b)(function(e){return{}},function(e){return{toggleSpellModal:function(t,a){return e({type:"MODAL_SPELLS",payload:{index:a,level:t}})}}})(function(e){return r.a.createElement(ie.a,{className:"my-2 touch-row",onClick:function(){return e.toggleSpellModal(e.level,e.index)}},r.a.createElement(ie.a.Body,null,r.a.createElement("h4",{className:"card-title"},e.spell.name),r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},e.spell.vsm),r.a.createElement("p",{className:"card-text"},e.spell.desc)))}),Qe=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"displaySpellSlots",value:function(){return r.a.createElement("div",null,r.a.createElement("legend",null,"Level ",this.props.level),r.a.createElement("label",{className:"mt-2"},"Spell Slots"),r.a.createElement(Y.a,{className:"mb-4"},r.a.createElement(X.a,{type:"number",defaultValue:4}),r.a.createElement(Y.a.Text,null," / "),r.a.createElement(X.a,{type:"number",defaultValue:3}),r.a.createElement(Y.a.Append,null,r.a.createElement(N.a,{variant:"primary"},"Use"))),r.a.createElement(le.a,null,r.a.createElement(le.a,{variant:"info",now:75})))}},{key:"displaySpellLevels",value:function(e){if(this.props.spells.spells)return this.props.spells.spells[e].map(function(t,a){return r.a.createElement(Ke,{key:a,spell:t,level:e,index:a})})}},{key:"render",value:function(){var e=this.props.level;return r.a.createElement("div",null,e>0?this.displaySpellSlots():"",this.displaySpellLevels(e))}}]),t}(n.Component),Fe=Object(s.b)(function(e){return{spells:e.spells}},function(e){return{}})(Qe),ze=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"displaySpells",value:function(){for(var e=[],t=0;t<10;t++)e.push(r.a.createElement(I.a,{key:t,eventKey:t,title:t,className:"mt-2"},r.a.createElement(Fe,{key:t,level:t})));return e}},{key:"render",value:function(){var e=this,t=this.props.character.profBonus+D(this.props.stats[3]);return r.a.createElement(x.a,null,r.a.createElement(V.a,null,r.a.createElement(K.a,{xs:12,md:4,className:"my-2"},r.a.createElement(N.a,{variant:"info",className:"mr-3",onClick:function(){return e.props.toggleSpellModal(null,null)}},r.a.createElement(Z.a,{icon:ee.b})," Add Spell"),r.a.createElement(N.a,{variant:"success"},r.a.createElement(Z.a,{icon:ee.a})," Rest")),r.a.createElement(K.a,{xs:6,md:4,className:"my-2"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"Atk+")),r.a.createElement(X.a,{readOnly:this.props.character.spellAtkLock?"readOnly":"",type:"number",value:this.props.character.spellAtkLock?t:this.props.character.spellAtk,onChange:function(t){return e.props.updateLockedCharacter(t.target.value,"spellAtk")}}),r.a.createElement(Y.a.Append,null,r.a.createElement(N.a,{variant:this.props.character.spellAtkLock?"primary":"secondary text-white",onClick:function(){return e.props.updateCharacter(!e.props.character.spellAtkLock,"spellAtkLock")}},r.a.createElement(Z.a,{icon:this.props.character.spellAtkLock?ee.k:ee.l,className:"fa-fw"}))))),r.a.createElement(K.a,{xs:6,md:4,className:"my-2"},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Prepend,null,r.a.createElement(Y.a.Text,{className:" bg-primary text-white"},"DC")),r.a.createElement(X.a,{type:"number",defaultValue:t+8,readOnly:!0})))),r.a.createElement(V.a,null,r.a.createElement(K.a,null,r.a.createElement(_.a,{justify:!0,defaultActiveKey:"0"},this.displaySpells()))),r.a.createElement(Ue,{handleClose:this.props.toggleSpellModal,show:this.props.spells.spellModal}))}}]),t}(n.Component),Ye=Object(s.b)(function(e){return{character:e.character,stats:e.stats.stats,spells:e.spells}},function(e){return{toggleSpellModal:function(t,a){return e({type:"MODAL_SPELLS",payload:{index:a,level:t}})}}})(ze),Je=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"Tools"},r.a.createElement(_.a,{justify:!0,defaultActiveKey:"spells"},r.a.createElement(I.a,{eventKey:"character",title:"Character"},r.a.createElement(He,null)),r.a.createElement(I.a,{eventKey:"spells",title:"Spells"},r.a.createElement(Ye,null)),r.a.createElement(I.a,{eventKey:"roll",title:"Roll"},r.a.createElement(ne,null)),r.a.createElement(I.a,{eventKey:"initiative",title:"Initiative"},r.a.createElement("h2",null,"Tab Initiative"))))}}]),t}(n.Component),Xe=a(41),Ze=a(107),$e=a.n(Ze).a.create({baseURL:"http://dndreact.local/api/"}),et=function(e){function t(e,a){var n;return Object(i.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e,a))).inputChangedHandler=function(e,t){var a=Object(M.a)({},n.state.signinform),r=Object(M.a)({},a[t]);r.value=e.target.value;var l=function(e){var t=!0,a="";return e.validation.required&&""===e.value.trim()&&(t=!1,a="Field Required"),e.validation.minLength&&t&&e.value.length<e.validation.minLength&&(t=!1,a="Must be "+e.validation.minLength+" or more characters"),e.validation.maxLength&&t&&e.value.length>e.validation.maxLength&&(t=!1,a="Must be "+e.validation.maxLength+" or less characters"),{valid:t,message:a}}(r);r.valid=l.valid,r.message=l.message,r.touched=!0,a[t]=r;var c=!0;for(var o in a)c=a[o].valid&&c;n.setState({signinform:a,formIsValid:c})},n.createAccount=function(e){e.preventDefault(),n.setState({loading:!0});var t={};for(var a in n.state.signinform)t[a]=n.state.signinform[a].value;var r=Object(Xe.a)(n);$e.post("user/create-account.php",t).then(function(e){e.data.error?r.setState({error:e.data.error,success:""}):e.data.success?r.setState({error:"",success:"Account created!"}):r.setState({error:"Unkown Error: Unable to create account at this time.",success:""}),r.setState({loading:!1})}).catch(function(e){})},n.state={signinform:{email:{type:"email",label:"Email",placeholder:"Email Address",value:"",validation:{required:!0,isEmail:!0,maxLength:100},valid:!1,touched:!1,message:""},password:{type:"password",label:"Password",value:"",validation:{required:!0,minLength:6,maxLength:100},valid:!1,touched:!1,message:""}},formIsValid:!1,loading:!1,error:"",success:""},n}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var a in this.state.signinform)t.push({id:a,state:this.state.signinform[a]});var n=t.map(function(t){return r.a.createElement(F.a.Group,{key:t.id},r.a.createElement(F.a.Label,null,t.state.label),r.a.createElement(F.a.Control,{className:B(t.state)?"":"invalid",type:t.state.type,placeholder:t.state.placeholder,value:t.state.value,onChange:function(a){return e.inputChangedHandler(a,t.id)}}),B(t.state)?"":r.a.createElement("p",{className:"invalid-text"},t.state.message))});return r.a.createElement(Ce.a,{show:this.props.show,onHide:function(){return e.props.handleClose("account")}},r.a.createElement(Ce.a.Header,{closeButton:!0},r.a.createElement(Ce.a.Title,null,"Create Account")),r.a.createElement(F.a,{onSubmit:function(t){return e.createAccount(t)}},r.a.createElement(Ce.a.Body,null,""!==this.state.error?r.a.createElement(we.a,{variant:"danger"},this.state.error):"",""!==this.state.success?r.a.createElement(we.a,{variant:"success"},this.state.success):"",n),r.a.createElement(Ce.a.Footer,null,this.state.loading?r.a.createElement(Z.a,{icon:ee.n,spin:!0}):"",r.a.createElement(N.a,{variant:"secondary",onClick:function(){return e.props.handleClose("account")}},"Close"),r.a.createElement(N.a,{variant:"primary",type:"submit",disabled:!this.state.formIsValid},"Create Account"))))}}]),t}(n.Component),tt=function(e){return r.a.createElement(Ce.a,{show:e.show,onHide:function(){return e.handleClose("signin")}},r.a.createElement(Ce.a.Header,{closeButton:!0},r.a.createElement(Ce.a.Title,null,"Sign In")),r.a.createElement(Ce.a.Body,null,r.a.createElement("p",null,"Modal body text goes here.")),r.a.createElement(Ce.a.Footer,null,r.a.createElement(N.a,{variant:"secondary",onClick:function(){return e.handleClose("signin")}},"Close"),r.a.createElement(N.a,{variant:"primary",onClick:function(){return e.handleClose("signin")}},"Sign In")))},at=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"modals"},r.a.createElement(et,{handleClose:this.props.toggleModal,show:this.props.modal.account}),r.a.createElement(tt,{handleClose:this.props.toggleModal,show:this.props.modal.signin}))}}]),t}(n.Component),nt=Object(s.b)(function(e){return{modal:e.modal}},function(e){return{toggleModal:function(t){return e({type:"MODAL_TOGGLE",payload:{index:t}})}}})(at),rt=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"App",className:v.a.App},r.a.createElement(S,null),r.a.createElement(Je,null),r.a.createElement(nt,null))}}]),t}(n.Component),lt=function(e,t){return Object(M.a)({},e,t)},ct={};ct=f&&f.stats?f.stats:{recentStatRoll:{roll:0,bonus:0,prof:!1},stats:[{name:"Strength",abv:"Str",value:10,prof:0},{name:"Dexterity",abv:"Dex",value:10,prof:0},{name:"Constitution",abv:"Con",value:10,prof:0},{name:"Intellegence",abv:"Int",value:10,prof:0},{name:"Wisdom",abv:"Wis",value:10,prof:0},{name:"Charisma",abv:"Cha",value:10,prof:0}]};var ot=function(e,t){t.payload.value<1&&(t.payload.value=0),t.payload.value>1e3&&(t.payload.value=1e3);var a=Object(M.a)({},e.stats[t.payload.index]);a.value=parseInt(t.payload.value),isNaN(a.value)&&(a.value=1);var n=Object(T.a)(e.stats);return n[t.payload.index]=a,n},st=function(e,t){var a=Object(M.a)({},e.stats[t.payload.index]);a.prof=!a.prof;var n=Object(T.a)(e.stats);return n[t.payload.index]=a,n},ut=function(e,t){return{roll:P(20),bonus:D(t.payload.stat),prof:t.payload.stat.prof}},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STAT_UPDATE":return lt(e,{stats:ot(e,t)});case"STAT_TOGGLE":return lt(e,{stats:st(e,t)});case"STAT_ROLL":return lt(e,{recentStatRoll:ut(e,t)})}return e},mt={};mt=f&&f.skills?f.skills:{recentSkillRoll:{roll:0,bonus:0,prof:0},skills:[{name:"Acrobatics",stat:1,prof:0,adv:!1},{name:"Animal Handling",stat:4,prof:0,adv:!1},{name:"Arcana",stat:3,prof:0,adv:!1},{name:"Athletics",stat:0,prof:0,adv:!1},{name:"Deception",stat:5,prof:0,adv:!1},{name:"History",stat:3,prof:0,adv:!1},{name:"Insight",stat:4,prof:0,adv:!1},{name:"Intimidation",stat:5,prof:0,adv:!1},{name:"Investigation",stat:3,prof:0,adv:!1},{name:"Medicine",stat:4,prof:0,adv:!1},{name:"Nature",stat:3,prof:0,adv:!1},{name:"Perception",stat:4,prof:0,adv:!1},{name:"Performance",stat:5,prof:0,adv:!1},{name:"Persuasion",stat:5,prof:0,adv:!1},{name:"Religion",stat:3,prof:0,adv:!1},{name:"Sleight of Hand",stat:1,prof:0,adv:!1},{name:"Stealth",stat:1,prof:0,adv:!1},{name:"Survival",stat:4,prof:0,adv:!1}]};var pt=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SKILL_PROF":return e=Object(M.a)({},a.skills[n.payload.index]),t=Object(T.a)(a.skills),e.prof>=2?e.prof=0:e.prof++,t[n.payload.index]=e,lt(a,{skills:t});case"SKILL_ADV":return e=Object(M.a)({},a.skills[n.payload.index]),t=Object(T.a)(a.skills),e.adv=!e.adv,t[n.payload.index]=e,lt(a,{skills:t});case"SKILL_ROLL":var r=P(),l=P(),c={roll:r,bonus:n.payload.bonus,prof:n.payload.skill.prof,adv:n.payload.skill.adv,advRoll:l};return lt(a,{recentSkillRoll:c})}return a},dt={};dt=f&&f.character?f.character:{HP:8,tempHP:0,maxHP:8,AC:10,tempAC:0,hitdie:1,profBonus:2,profBonusLock:!0,init:0,initLock:!0,insight:10,insightLock:!0,perception:10,perceptionLock:!0,spellAtk:0,spellAtkLock:!0,saves:[!1,!1,!1],fails:[!1,!1,!1],XP:0,level:1,name:"",race:"",class:"",sex:"",age:"",diety:"",background:"",alignment:"",size:"Medium",height:"",weight:"",hair:"",eyes:""};var Et=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CHAR_UPDATE":return(e=Object.assign({},t))[a.payload.index]=a.payload.value,lt(t,e);case"CHAR_LOCK_UPDATE":return e=Object.assign({},t),console.log(a.payload.index+"Lock"),e[a.payload.index+"Lock"]||(e[a.payload.index]=parseInt(a.payload.value)),lt(t,e)}return t},ht={name:"",stat:0,hit:0,numDice:1,diceValue:6,bonus:0,type:""},vt={name:"",type:"",bonus:0,prof:0,ac:10},ft={name:"",number:1,value:1,money:"gp"},gt={weaponModal:!1,currentWeaponIndex:-1,currentWeapon:ht,recentWeaponRoll:{roll:0,damageRolls:0,stat:0,bonus:0,numDice:1,diceValue:6,bonusDamage:0,prof:0,totalDamage:0},armorModal:!1,currentArmorIndex:-1,currentArmor:vt,gemModal:!1,currentGemIndex:-1,currentGem:ft,weapons:[],armor:[],money:[{name:"Copper",initial:"cp",value:0,multiple:1},{name:"Silver",initial:"sp",value:0,multiple:10},{name:"Electrum ",initial:"ep",value:0,multiple:50},{name:"Gold",initial:"gp",value:0,multiple:100},{name:"Platinum",initial:"pp",value:0,multiple:1e3}],gems:[]};f&&f.equipment&&(gt=f.equipment);var yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EQUIP_MONEY":return lt(e,{money:bt(e,t)});case"WEAPON_ROLL":return lt(e,{recentWeaponRoll:xt(t.payload.weapon)});case"MODAL_WEAPON":return Object(M.a)({},kt(e,t));case"EQUIP_WEAPON":return lt(e,{currentWeapon:Nt(e,t)});case"EQUIP_SAVE_WEAPON":return Object(M.a)({},Ot(e,t));case"EQUIP_DELETE_WEAPON":return Object(M.a)({},Ct(e,t));case"MODAL_ARMOR":return Object(M.a)({},Lt(e,t));case"EQUIP_ARMOR":return lt(e,{currentArmor:wt(e,t)});case"EQUIP_SAVE_ARMOR":return Object(M.a)({},St(e,t));case"EQUIP_DELETE_ARMOR":return Object(M.a)({},At(e,t));case"MODAL_GEMS":return Object(M.a)({},It(e,t));case"EQUIP_GEMS":return lt(e,{currentGem:jt(e,t)});case"EQUIP_SAVE_GEMS":return Object(M.a)({},_t(e,t));case"EQUIP_DELETE_GEMS":return Object(M.a)({},Tt(e,t))}return e},bt=function(e,t){var a=Object(M.a)({},e.money[t.payload.index]),n=Object(T.a)(e.money);return a.value=parseInt(t.payload.value),isNaN(a.value)&&(a.value=0),n[t.payload.index]=a,n};function xt(e){for(var t=P(),a=[],n=0,r=0;r<e.numDice;r++){var l=P(e.diceValue);n+=l,a.push(l)}return a=a.sort(R).reverse(),e.bonus>0&&(n+=e.bonus),{roll:t,damageRolls:a,stat:e.stat,bonus:e.hit,numDice:e.numDice,diceValue:e.diceValue,bonusDamage:e.bonus,prof:!1,totalDamage:n}}var kt=function(e,t){var a,n=Object.assign({},e);return n.weaponModal=!n.weaponModal,-1===t.payload.index?a=ht:n.weapons[t.payload.index]&&(a=n.weapons[t.payload.index]),n.currentWeaponIndex=t.payload.index,n.currentWeapon=a,n},Nt=function(e,t){var a=Object(M.a)({},e.currentWeapon);return isNaN(t.payload.value)||(t.payload.value=parseInt(t.payload.value,10)),a[t.payload.key]=t.payload.value,a},Ot=function(e,t){var a=Object.assign({},e),n=Object(M.a)({},e.currentWeapon);return-1===a.currentWeaponIndex?a.weapons.push(n):a.weapons[a.currentWeaponIndex]=n,a},Ct=function(e,t){var a=Object.assign({},e);return a.currentWeaponIndex>=0&&(a.weapons.splice(a.currentWeaponIndex,1),a.weaponModal=!1),a},Lt=function(e,t){var a,n=Object.assign({},e);return n.armorModal=!n.armorModal,-1===t.payload.index?a=vt:n.armor[t.payload.index]&&(a=n.armor[t.payload.index]),n.currentArmorIndex=t.payload.index,n.currentArmor=a,n},wt=function(e,t){var a=Object(M.a)({},e.currentArmor);return isNaN(t.payload.value)||(t.payload.value=parseInt(t.payload.value,10)),a[t.payload.key]=t.payload.value,a},St=function(e,t){var a=Object.assign({},e),n=Object(M.a)({},e.currentArmor);return-1===a.currentArmorIndex?a.armor.push(n):a.armor[a.currentArmorIndex]=n,a},At=function(e,t){var a=Object.assign({},e);return a.currentArmorIndex>=0&&(a.armor.splice(a.currentArmorIndex,1),a.armorModal=!1),a},It=function(e,t){var a,n=Object.assign({},e);return n.gemModal=!n.gemModal,-1===t.payload.index?a=ft:n.gems[t.payload.index]&&(a=n.gems[t.payload.index]),n.currentGemIndex=t.payload.index,n.currentGem=a,n},jt=function(e,t){var a=Object(M.a)({},e.currentGem);return t.payload.value?isNaN(t.payload.value)||(t.payload.value=parseInt(t.payload.value,10)):t.payload.value="",a[t.payload.key]=t.payload.value,a},_t=function(e,t){var a=Object.assign({},e),n=Object(M.a)({},e.currentGem);return-1===a.currentGemIndex?a.gems.push(n):a.gems[a.currentGemIndex]=n,a},Tt=function(e,t){var a=Object.assign({},e);return a.currentGemIndex>=0&&(a.gems.splice(a.currentGemIndex,1),a.gemModal=!1),a},Mt={name:"",count:1,cost:1,weight:1},Pt={itemModal:!1,currentItemIndex:-1,currentItem:Mt,items:[]};f&&f.inventory&&(Pt=f.inventory);var Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MODAL_ITEMS":return Object(M.a)({},Dt(e,t));case"INVENTORY_ITEMS":return lt(e,{currentItem:qt(e,t)});case"INVENTORY_SAVE_ITEMS":return Object(M.a)({},Wt(e,t));case"INVENTORY_DELETE_ITEMS":return Object(M.a)({},Gt(e,t))}return e},Dt=function(e,t){var a,n=Object.assign({},e);return n.itemModal=!n.itemModal,-1===t.payload.index?a=Mt:n.items[t.payload.index]&&(a=n.items[t.payload.index]),n.currentItemIndex=t.payload.index,n.currentItem=a,n},qt=function(e,t){var a=Object(M.a)({},e.currentItem);return isNaN(t.payload.value)||(t.payload.value=parseFloat(t.payload.value,10)),a[t.payload.key]=t.payload.value,a},Wt=function(e,t){var a=Object.assign({},e),n=Object(M.a)({},e.currentItem);return-1===a.currentItemIndex?a.items.push(n):a.items[a.currentItemIndex]=n,a},Gt=function(e,t){var a=Object.assign({},e);return a.currentItemIndex>=0&&(a.items.splice(a.currentItemIndex,1),a.itemModal=!1),a},Bt=[],Ht={name:"Test Name",damage:[],vsm:"VSM",description:"Cool description",range:0,duration:"",level:0,numDice:1,diceValue:6,bonus:0};f&&f.spells||(Bt={spellModal:!1,currentSpellIndex:null,currentSpell:Ht,spells:[]});var Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MODAL_SPELLS":return Object(M.a)({},Ut(e,t));case"SPELLS_SAVE_SPELL":return Object(M.a)({},Kt(e,t))}return e},Ut=function(e,t){var a=Object.assign({},e);return a.spellModal=!a.spellModal,null===t.payload.index?(console.log("Default Spell"),a.currentSpell=Ht,a.currentSpellIndex=null):t.payload.index&&t.payload.level&&a.spells[t.payload.level][t.payload.index]&&(console.log("Set Spell: "+t.payload.level+", "+t.payload.index),a.currentSpellIndex=[t.payload.level,t.payload.index]),a},Kt=function(e,t){var a=Object.assign({},e),n=Object(M.a)({},e.currentSpell);return console.log(n),null===a.currentSpellIndex?console.log("currentSpellIndex: null"):a.currentSpellIndex&&a.currentSpellIndex.length,a},Qt={account:!1,signin:!1},Ft=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"MODAL_TOGGLE":return(e=Object.assign({},t))[a.payload.index]=!e[a.payload.index],Object(M.a)({},e)}return t},zt=(a(183),a(184),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function Yt(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Jt=Object(o.c)({stats:it,skills:pt,character:Et,equipment:yt,inventory:Rt,spells:Vt,modal:Ft}),Xt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,Zt=Object(o.e)(Jt,Xt(Object(o.a)(function(e){return function(t){return function(a){var n=t(a);return localStorage.setItem("DND_STATE",JSON.stringify(e.getState())),n}}},u.a)));c.a.render(r.a.createElement(s.a,{store:Zt},r.a.createElement(rt,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");zt?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Yt(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Yt(t,e)})}}()},35:function(e,t,a){e.exports={total:"RollResult_total__102Du",shake:"RollResult_shake__Z8_zT"}},43:function(e,t,a){e.exports={header:"Header_header__3vv_i",container:"Header_container__WOY4J",navbarBrand:"Header_navbarBrand__3VEYg",btnSpace:"Header_btnSpace__10_2t"}},44:function(e,t,a){e.exports={lowHealth:"Important_lowHealth__24eYG",pulse:"Important_pulse__TyxFJ",fullHealth:"Important_fullHealth__1tIrM",saveThrows:"Important_saveThrows__1Ap74",successThrow:"Important_successThrow__wyHPG",failThrow:"Important_failThrow__1UNFa",glow:"Important_glow__39nrh"}},65:function(e,t,a){e.exports={total:"Roll_total__kQ4ji",results:"Roll_results__3-fG3"}}},[[108,1,2]]]);
//# sourceMappingURL=main.8e231b62.chunk.js.map